<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="styles.css">
</head>

<body>
	<div class="status">
		<div id="gls" class="gls-server-status">
			Global linking server is: <span class="gls-server-online"></span>
		</div>
		<div id="test" class="test-server-status">
			Geyser Test server is: <span class="test-server-online"></span>		
		</div>
		<div id="api" class="api-status">
			Geyser API is: <span class="api-online"></span>	
		</div>
	</div>
</body>
</html>

<script src="https://mcapi.us/scripts/minecraft.min.js"></script>
<script>
	//ping global linking server
	var gso = document.getElementById("gls");
	var tso = document.getElementById("test");
	var ao = document.getElementById("api");

	fetch('https://api.geysermc.org/health')
	.then(
		function(response) {
		if (response.status !== 200) {
			console.log('Could not connect to website ' +
			response.status);
			document.querySelector('.api-online').innerHTML = 'offline';
			ao.style.border = "thin solid #d40202";
			return;
		}
		if (response.ok === true) {
			document.querySelector('.api-online').innerHTML = 'online';
			ao.style.border = "thin solid #03fc0b";
		} 
	});

	fetch('https://eu.mc-api.net/v3/server/ping/link.geysermc.org')
	.then(
		function(response) {
		if (response.status !== 200) {
			console.log('Could not connect to website ' +
			response.status);
			document.querySelector('.gls-server-online').innerHTML = 'offline';
			gso.style.border = "thin solid #d40202";
			return;
		}
		if (response.ok === true) {
			document.querySelector('.gls-server-online').innerHTML = 'online';
			gso.style.border = "thin solid #03fc0b";
		} 
	});
	fetch('https://eu.mc-api.net/v3/server/ping/test.geysermc.org')
	.then(
		function(response) {
		if (response.status !== 200) {
			console.log('Could not connect to website ' +
			response.status);
			document.querySelector('.test-server-online').innerHTML = 'offline';
			tso.style.border = "thin solid #d40202";
			return;
		}
		if (response.ok === true) {
			document.querySelector('.test-server-online').innerHTML = 'online';
			tso.style.border = "thin solid #03fc0b";
		} 
	});
</script>